<template>
    <div class="c-l-container">
        <div class="c-l-controls">
            <h1>Car List</h1>
            <button 
                onclick={handleShowFilters}
            >Filters</button>
            
            <label>
                <lightning-input type="text" onchange={handleSearch}></lightning-input>
            </label>
        </div>

        <template if:true={showFilters}> 
            <c-car-filters
                filter-el={filterEl}
                onclosefilters={handleShowFilters}
            ></c-car-filters>
        </template>
    
        <div
            class="c-l-cars-wrapper"
            onscroll={handleScroll}
        >
            <template for:each={cars} for:item="car">
                <div
                    key={car.Id}
                    class="car-wrapper"
                >
                    <div 
                        class="car-visible"
                        data-id={car.Id}
                        onclick={handleVisible}
                    >
                        <span class="car-initials">{car.Initials}</span>
                        <span class="car-name">{car.Name}</span>
                    </div>
        
                    <template if:true={car.selected}>
                        <button onclick={showDetailsComponent}>Details...</button>
                    </template>
                </div>
            </template>
        </div>
    </div>
</template>